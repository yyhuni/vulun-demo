{% extends "base.html" %}

{% block title %}DOMå‹ XSS{% endblock %}

{% block extra_style %}
body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
h1 { color: #e74c3c; }
input[type="text"] { padding: 10px; width: 300px; border: 1px solid #ddd; border-radius: 4px; }
button { padding: 10px 20px; background: #9b59b6; color: white; border: none; border-radius: 4px; cursor: pointer; }
.result { background: #f0f0f0; padding: 15px; margin-top: 20px; border-radius: 5px; }
.hint { background: #e8f4f8; padding: 10px; margin: 20px 0; border-radius: 5px; }
a { color: #3498db; }
{% endblock %}

{% block content %}
<h1>ğŸŒ DOMå‹ XSS æµ‹è¯•</h1>
<p><a href="/xss">â† è¿”å›XSSé¶åœº</a></p>

<input type="text" id="userInput" placeholder="è¾“å…¥å†…å®¹">
<button onclick="showResult()">æ˜¾ç¤º</button>

<div class="result" id="output"></div>

<script>
    function showResult() {
        var input = document.getElementById('userInput').value;
        document.getElementById('output').innerHTML = 'ä½ è¾“å…¥äº†: ' + input;
    }
    
    var urlParams = new URLSearchParams(window.location.search);
    var msg = urlParams.get('msg');
    if (msg) {
        document.getElementById('output').innerHTML = 'æ¥è‡ªURLçš„æ¶ˆæ¯: ' + msg;
    }
</script>

<div class="hint">
    <strong>ğŸ’¡ æµ‹è¯•æç¤ºï¼š</strong><br>
    1. åœ¨è¾“å…¥æ¡†ä¸­å°è¯•: <code>&lt;img src=x onerror=alert('DOM XSS')&gt;</code><br>
    2. æˆ–è€…è®¿é—®: <code>/xss/dom?msg=&lt;img src=x onerror=alert('URL XSS')&gt;</code>
</div>
{% endblock %}
